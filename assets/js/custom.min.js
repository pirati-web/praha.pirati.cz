Foundation.Interchange.SPECIAL_QUERIES["medium down"] = "screen and (max-width: 63.9375em)", $(document).foundation(), $(document).on("replaced.zf.interchange", function(e) {
  $(this).foundation()
}), $("button[data-toggle]").on("click", function() {
  $(this).parent().hasClass("js-button-toggled") ? $(this).parent().removeClass("js-button-toggled") : $(this).parent().addClass("js-button-toggled")
}), window.onload = function() {};
var choice_n_random = function(e, t) {
    t = void 0 !== t ? t : 3;
    for (var n = [];;) {
      var o = e[Math.floor(Math.random() * e.length)];
      if (o.description && (n.push(o), n.length == t)) break
    }
    return n
  },
  choice_person = function(e, t, n) {
    n = void 0 !== n ? n : null;
    var o = null;
    return $.each(e, function(e, i) {
      if (i.uid == t) return o = i, void(o.role = n)
    }), o ? [o] : [{
      name: t,
      role: n
    }]
  },
  choice_garant = function(e) {
    return choice_person(e, page_garant, "garant")
  },
  choice_leader = function(e) {
    return choice_person(e, page_leader, "vedoucí týmu")
  },
  choice_contact = function(e) {
    return choice_person(e, page_contact, "kontaktní osoba")
  },
  show_people = function(e, t, n) {
    n.length && (choice = t(e), $.get(snippet_profile, function(e) {
      e = Handlebars.compile(e);
      $.each(choice, function(t, o) {
        var i = e(o);
        $(n).append(i)
      })
    }, "html"))
  },
  search = function(e) {
    $("#searchsub").click(function() {
      var e = "https://www.google.cz/?q=inurl:pirati.cz+" + search.val();
      window.location.href = e
    }), $("#search").autocomplete({
      source: e,
      select: function(e, t) {
        window.location.href = t.item.value
      }
    })
  },
  back_top = function() {
    $(window).scroll(function() {
      $(this).scrollTop() > 50 ? $(".scrolltop:hidden").stop(!0, !0).fadeIn() : $(".scrolltop").stop(!0, !0).fadeOut()
    }), $(function() {
      $(".scroll").click(function() {
        return $("html,body").animate({
          scrollTop: $(".thetop").offset().top
        }, "1000"), !1
      })
    })
  },
  show_relatives = function(e) {
    var t = $("#relatives");
    if (t.length) {
      var n = e[0];
      page_tags.length || $("#relatives-box").hide(), $.each(page_tags, function(e, o) {
        $.each(n[o], function(e, n) {
          if (n.url != page_url) {
            var o = $("<li/>").appendTo(t);
            $("<a/>").text(n.title).attr("href", n.url).appendTo(o)
          }
        })
      })
    }
  },
  makemap = function(e) {
    var t = e[0].settings;
    $(t.id).width(t.size.width), $(t.id).height(t.size.height);
    var n = Raphael(t.id, t.size.width, t.size.height);
    $("#region-description>div").hide();
    var o = 0,
      i = $("#regions-list"),
      a = $("#regions-list-2"),
      r = e[0].regions;
    $.each(r, function(e, r) {
      if (o < 29) {
        var c = $("<li/>").appendTo(i);
        $("<a/>").text(r.name).attr("href", r.url).appendTo(c)
      } else {
        var s = $("<li/>").appendTo(a);
        $("<a/>").text(r.name).attr("href", r.url).appendTo(s)
      }
      o++;
      var l = {
          title: r.name
        },
        p = $.extend(t.region_attrs, l);
      t.colors ? r.color = Raphael.getColor() : r.color = "#666";
      r.id;
      $.each(r.paths, function(e, o) {
        (o = n.path(o).scale(t.size.scale, t.size.scale, 0, 0).attr(p))[0].onclick = function() {
          window.location.hash = r.id;
        }, o[0].ondblclick = function() {
          window.location.hash = r.id;
        }, o[0].onmouseover = function() {
          o.animate({
            fill: r.color
          }, 500).attr({
            cursor: "pointer"
          })
        }, o[0].onmouseout = function() {
          o.animate({
            fill: "#333"
          }, 500)
        }
      })
    })
  };
$(function() {
    $.get(api_search).done(search).fail(function(e) {
      console.log("Error in search:", e)
    }), back_top(), $.get(api_people).done(function(e) {
      show_people(e, choice_n_random, $("#people")), show_people(e, choice_garant, $("#garant")), show_people(e, choice_leader, $("#leader")), show_people(e, choice_contact, $("#contact"))
    }).fail(function(e) {
      console.log("Error in relatives articles:", e)
    }), $("#relatives").length && $.get(api_tags).done(function(e) {
      show_relatives(e)
    }).fail(function(e) {
      console.log("Error in relatives articles:", e)
    }), $("#regions-map").length && $.get(api_regions).done(function(e) {
      makemap(e)
    }).fail(function(e) {
      console.log("Error: map")
    })
  }), window.twttr = function(e, t, n) {
    var o, i = e.getElementsByTagName("script")[0],
      a = window.twttr || {};
    return e.getElementById("twitter-wjs") ? a : (o = e.createElement("script"), o.id = "twitter-wjs", o.src = "https://platform.twitter.com/widgets.js", i.parentNode.insertBefore(o, i), a._e = [], a.ready = function(e) {
      a._e.push(e)
    }, a)
  }(document), window.fbAsyncInit = function() {
    FB.init({
      appId: "1526197851008996",
      xfbml: !0,
      version: "v2.5"
    })
  },
  function(e, t, n) {
    var o, i = e.getElementsByTagName("script")[0];
    e.getElementById(n) || ((o = e.createElement("script")).id = n, o.src = "//connect.facebook.net/en_US/sdk.js", i.parentNode.insertBefore(o, i))
  }(document, 0, "facebook-jssdk");
var _paq = _paq || [];
_paq.push(["trackPageView"]), _paq.push(["enableLinkTracking"]),
  function() {
    var e = "//piwik.pirati.cz/";
    _paq.push(["setTrackerUrl", e + "piwik.php"]), _paq.push(["setSiteId", "3"]);
    var t = document,
      n = t.createElement("script"),
      o = t.getElementsByTagName("script")[0];
    n.type = "text/javascript", n.async = !0, n.defer = !0, n.src = e + "piwik.js", o.parentNode.insertBefore(n, o)
  }();
